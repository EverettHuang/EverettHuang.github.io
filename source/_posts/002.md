---
title: Linux基础操作
date: 2019-10-11 12:34:46
tags: Linux
categories: Linux
description: 
cover: /Depository/Img/Post/
top_img: /Depository/Img/Post/
---


**<center>Linux基础操作</center>**


---

**pwd**

* description  :  print name of current/working directory
* synopsis  :  pwd [option]
* [option]  :
  * None  :  显示当前目录
  * -p  :  显示链接的真实路径

---

**cd**

* description  :  切换当前工作目录
* synopsis  :  cd [path]
* [path]  :
  * None  :  进入当前用户家目录
  * ..  :  进入上一级目录
  * \-  :  返回前一个目录
  * ~  :  进入当前家目录
  * path  :  切换工作目录至path

---

**ls**

* description  :  显示目录与文件信息
* synopsis  :  ls [option] [file/folder/None]
* [option]  :
  *  None  :  
  *  -a  :  显示所有，包括隐藏文件与目录
  *  -d  :  显示目录本身的信息，而非目录下的文档信息
  *  -h  :  人性化显示容量信息
  *  -l  :  长格式显示文档的详细信息
  *  -u  :  显示文件或目录最后被访问的时间
  *  -t  :  以修改时间排序，ls命令默认是按文件名称排序
* tip  :  
  * \[file/folder/None]为None时表示当前目录
  * ls -l显示文件的详细信息
    * \- :  普通文件
    * d  :  目录文件
    * l  :  链接文件
    * b  :  块设备文件
    * c  :  字符设备文件
    * p  :  管道文件


---

**touch**

* description  :  创建空白文件或设置文件时间
* synopsis  :  touch [option] [file]
* [option]  :
  * None  :
  * -a  :  仅修改读取时间(atime)
  * -m  :  仅修改修改时间(mtime)
  * -d  :  同时修改atime和mtime
* tip  :  如果文件不存在即创建文件，如果文件存在即更新文件的所有时间为当前系统时间

---

**mkdir**

* description  :  创建目录
* synopsis  :  mkdir [option] [folder]
* [option]  :
  *  None  :  
  *  -p  :  创建多级目录

---

**cp**

* description  :  复制文件与目录
* synopsis  :  cp [option] [源] [目标]
* [option]  :
  * -r  :  递归，复制子文件与子目录，一般复制目录时使用
  * -a  :  复制时保留源文档的所有属性(包括权限，时间等)(相当于-pdr)
  * -p  :  保留原始文件的属性
  * -d  :  若对象为链接文件，则保留链接文件的属性
  * -i  :  若目标文件存在则询问是否覆盖
---

**dd**

* description  :  按照指定大小和个数的数据块来复制文件或转换文件
* synopsis  :  dd [option]
* [option]  :
  * if  :  输入文件名称
  * of  :  输出文件名称
  * bs  :  设置每个块的大小
  * count  :  设置要复制块的个数

---

**file**

* description  :  查看文件的类型
* synopsis  :  file file

---

**rm**

* description  :  删除文件或目录
* synopsis  :  rm [option] [file/folder]
* [option]  :
  *  -f  :  不提示，强制删除
  *  -i  :  删除前，提示是否删除
  *  -r  :  递归删除，删除目录以及目录下的所有内容

---

**mv**

* description  :  移动(重命名)文件或目录
* synopsis  :  mv [源] [目标]
* []  :

---

**find**

* description  :  搜索文件或目录
* synopsis  :  find [option] [path] [表达式选项]
* [option]  :
  *  -empty  :  查找空白文件或目录
  *  -group  :  按组查找
  *  -name  :  按文档名称查找
  *  -iname  :  按文档名称查找，且不区分大小写
  *  -mtime  :  按修改时间查找
  *  -size  :  按容量大小查找
  *  -type  :  按文档类型查找(文件f，目录d，设备b,c，链接l等)
  *  -user  :  按用户查找
  *  -exec  :  对找到的档案执行特定的命令
  *  -a  :  并且
  *  -o  :  或者
*  tip  :  [path]为None时，表示查找当前目录

---

**du**

* description  :  计算文件或目录的容量
* synopsis  :  du [option] [file/folder]
* [option]  :
  *  -h  :  人性化显示容量信息
  *  -a  :  查看所有目录以及文件的容量信息
  *  -s  :  仅显示总容量

---

**ln**

* description  :  创建链接
* synopsis  :  ln [option] [源] [链接]
* [option]  :
  *  None  :  默认创建硬链接
  *  -s  :  创建软链接

---

**cat**

* description  :  查看文件内容
* synopsis  :  cat [option] [file]
* [option]  :
  *  -b  :  显示行号，空白行不显示行号
  *  -n  :  显示行号，包括空白行

---

**tr**

* description  :  替换文本中的字符
* synopsis  :  tr [原始字符] [目标字符]
* tip  :  先使用cat命令读取待处理的文本，然后通过管道符把这些文本内容传递给tr命令进行替换操作即可

---

**stat**

* description  :  查看文件的具体存储信息和时间等信息
* synopsis  :  stat file

---

**cut**

* description  :  用于按“列”提取文本字符
* synopsis  :  cut [option] 文本
* [option]  :

---

**diff**

* description  :  比较多个文本的差异
* synopsis  :  diff [option] 文件

---

**more**

* description  :  分页查看文件内容，通过空格查看下一页，q键则退出查看
* synopsis  :  more [file]
* []  :

---

**less**

* description  :  分页查看文件内容，空格(下一页),方向键(上下回翻),q键(退出查看)
* synopsis  :  less [file]
* []  :

---

**head**

* description  :  查看文件头部内容，默认显示前10行
* synopsis  :  head [option] [file]
* [option]  :
  *  None  :  默认显示前10行
  *  -c nK  :  显示文件前nKB的内容
  *  -n  :  显示文件前n行的内容

---

**tail**

* description  :  查看文件尾部内容，默认显示末尾10行
* synopsis  :  tail [option] [file]
* [option]  :
  *  None  :  默认显示文件末尾10行
  *  -c nK  :  显示文件末尾nKB的内容
  *  -n  :  显示文件末尾n行的内容
  *  -f  :  动态显示文件内容，常用于查看日志，按Ctrl+C组合键退出

---

**wc**

* description  :  显示文件的行，单词与字节统计信息
* synopsis  :  wc [option] [file]
* [option]  :
  *  -c  :  显示文件字节统计信息
  *  -l  :  显示文件行数统计信息
  *  -w  :  显示文件单词统计信息

---

**echo**

* description  :  显示一行指定的字符串
* synopsis  :  echo [option] [字符串]
* [option]  :
  *  None  :
  *  -n  :  不输出换行，默认echo输出内容后会换行
  *  -e  :  支持反斜线开始的转义字符，屏蔽反斜线后面字符的原本含义
* tip  :  如果使用-e选项，可识别(\\(反斜杠)，\a(报警器)，\b(退格键)，\c(不生成格外输出，默认echo会自动添加换行)，\f(输入表单格式，换行后保留光标位置),\n(换行),\t(生成水平Tab),\v(生成垂直Tab),\033(显示有颜色的字符串)

---

**tee**

* description  :  将输入重定向到文本并在标准输出设备显示
* synopsis  :  
* [option]  :

---

**gzip/bzip2**

* description  :  压缩与解压缩，gzip解压和压缩.gz文件，bzip2解压和压缩.bz2文件
* synopsis  :  gzip/bzip2 [option] file
* [option]  :
  * None  :  压缩文件
  * -d  :  解压文件
* tip  :  gzip和bzip2不可以直接对目录做打包压缩操作

---

**tar**

* description  :  打包与解包文件
* synopsis  :  tar 模式 [option] [路径]
* [模式]  :
  * -c  :  创建打包文件
  * --delete  :  从打包文件中删除文件
  * -r  :  追加文件至打包文档
  * -t  :  列出打包文件的内容
  * -x  :  释放打包文件
* [option]  :
  * -C  :  指定解压路径
  * -f  :  指定打包后的文件名称
  * -j  :  打包后通过bzip2格式压缩
  * --remove-files  :  打包后删除源文件
  * -z  :  打包后通过gzip格式压缩
  * -v  :  显示压缩或解压的过程
  * -P  :  保留原始的权限与属性
  * -p  :  使用绝对路径来压缩

---

**systemctl**

* description  :  
* synopsis  :  systemctl [option] 服务
* [option]  :
  * start  :  启动服务
  * stop  :  停止服务
  * restart  :  重启服务
  * enable  :  开机自启服务
  * disable  :  取消开机自启服务
  * reload  :  使服务重新加载配置文件
  * condrestart  :  检查配置文件没有错误的情况下才重启服务
  * status  :  查看服务状态
* 只要知道主程序的路径，可以通过直接执行主程序开启程序，通过在主程序后加 -s stop 停止服务

---

**uname**

* description  :  查看系统内核与系统版本等信息
* synopsis  :  uname [-a]

---

**uptime**

* description  : 打印当前时间，系统运行时间，当前登陆用户数以及系统平均负载
* synopsis  : uptime
* tip  :  CPU负载分别显示的是最近一分子，五分钟，十五分钟的负载情况(表示单位时间段内CPU等待队列中平均有多少进程在等待)

---

**free**

* description  :  显示系统内存及交换分区信息
* synopsis  : free [None|-b|-k|-m]
* tip  :  -b|-k|-m指定输出容量的单位分别表示Byte,KB,MB

---

**df**

* description  :  生成系统磁盘空间的使用量信息
* synopsis  :  df [option]
* [option]  :
  * -h  :  人性化方式显示容量信息
  * -i  :  显示磁盘inode使用量信息
  * -T  :  显示文件系统类型

---

**who**

* description  :  查看当前登入主机的用户终端信息
* synopsis  :  who [option]
* [option]  :
  * None  :

---

**last**

* description  :  查看系统所有的登陆记录
* synopsis  :  last [option]
* [option]  :
  * None  :

---

**sosreport**

* description  :  收集系统配置及架构信息并输出诊断文档
* synopsis  :  sosreport

---

**ip**

* description  :  可以查看网卡接口信息
* synopsis  :  ip

---

**netstat**

* description  :  打印网络连接，路由器，网络接口统计等信息
* synopsis  :  netstat [option]
* [option]  :
  * -s  :  显示各种协议数据统计信息
  * -n  :  使用数字形式的IP,端口号,用户ID替代主机,协议,用户等名称信息
  * -p  :  显示进程名称及对应进程ID号
  * -l  :  仅显示正在监听的sockets接口信息
  * -u  :  查看udp连接信息
  * -t  :  查看tcp连接信息

---

**ps**

* description  :  查看当前进程信息
* synopsis  :  ps命令版本众多，有多种语法种类，如UNIX,BSD以及GNU Linux
* 标准语法格式  ： 
  * ps -e  :  查看所有用户进程
  * ps -ef  :  全格式显示进程信息
* BSD语法格式
  * ps -ax  :
  * ps -axu  :
* tip  :  输出信息详解
  * UID  :  进程的执行用户
  * PID  :  进程的唯一编号
  * PPID  :  父进程ID编号
  * %CPU  :  进程的CPU占用率
  * %MEM  :  进程的内存占用率
  * VSZ  :  进程所使用的虚拟内存大小(单位为KB)
  * RSS  :  进程所使用的真实内存大小
  * TTY  :  终端
  * STIME/START  :  进程启动时间
  * STAT  :  进程状态(D:不可中断的进程,R:正在运行的进程,S:正在睡眠的进程,T:停止或被追踪的进程,X:死掉的进行,Z:僵死进程)
  * TIME  :  进程占有CPU的总时间
  * CMD/COMMAND  :  进程命令

---

**top**

* description  :  动态查看进程信息
* synopsis  :  top [option]
* [option]  :
  * None  :
  * -d  :  top刷新间隔，默认为3秒
  * -p  :  查看指定PID的进程信息
* tip  :  通过top可以动态查看10个进程的信息，默认按CPU使用率排序，输入M可以按照内存使用率排序，输入N可以按照进程号排序，输入z可以高亮显示颜色

---

**pidof**

* description  :  查询某个指定服务进程的PID值
* synopsis  :  pidof [option] [服务名称]
* [option]  :
  * None  :

---

**kill**

* description  :  终止某个指定PID的服务进程
* synopsis  :  kill [option] [PID]
* [option]  :
  * None  :

---

**killall**

* description  :  终止某个指定名称的服务所对应的全部进程
* synopsis  :  killall [option] [服务名称]
* [option]  :
  * None  :

---

**at**

* description  :  定时计划任务
* synopsis  :  at time
* [option]  :
  * -m  :  当计划任务执行结束后发送邮件给用户
  * -l  :  查看用户计划任务
  * -d  :  删除用户计划任务
  * -c  :  查看at计划人物具体内容
* tip  :  
  * 执行指令后，再输入计划任务内容(可以输入多条计划任务)，输入完毕后按Ctrl+D快捷键结束
  * at命令可以使用的时间格式很多，at 小时:分钟(默认代表当天的时间),at 4pm + 3 days(代表三天以后的下午四点执行任务计划),at 12:00 2020-10-10(指定年月日及日期的计划任务)

---

**cron**

* description  :  为每个用户维护周期性的计划任务文件
* synopsis  :  crontab [-u user] [-l | -r | -e]
* [option]  :
  * -u  :  指定计划任务的用户，默认为当前用户
  * -l  :  查看计划任务
  * -r  :  删除计划任务
  * -e  :  编辑计划任务
  * -i  :  使用-r删除计划任务时，要求用户确认删除
* tip  :
  * 使用cron制定计划任务时，需要保证crond服务是开启的，可以使用systemctl start及enable确保该服务开机自启
  * 用户的cron计划任务文件格式：第一列(分),第二列(时),第三列(日),第四列(月),第五列(周),第六列(命令)
  * 使用24小时制，分钟范围00-59,小时范围00-23,日期范围1-31,周范围0-7(0或7都表示周日);如果表示连续的时间段，可用横杠(-)表示一段连续的时间，使用逗号(,)表示若干个不连续的时间，使用星号(*)表示所有的时间,使用除号(/)表示间隔时间
  * 计划任务编辑完成后，退出方式与vim编辑器一样

* Tips:为了控制用户随意定义自己的计划任务，管理员可以进行ACL访问控制
  * at计划任务的控制文件分别为/etc/at.allow和/etc/at.deny，默认at.allow不存在
  * cron计划任务的控制文件分别为/etc/cron.allow和/etc/cron.deny，默认cron.allow不存在
    * 当allow文件存在时，仅在allow文件中出现的用户可以使用对应的计划任务
    * 如果allow文件与deny文件同时存在内容一样的账户，则仅出现在allow中的用户可以使用计划任务
    * 如果没有allow文件而仅有deny文件，则所有出现在deny中的用户无法使用计划任务，其他所有用户均可使用计划任务
    * 当非法用户使用crontab -e编辑自己的计划任务时，系统将提示

---

**ifconfig**

* description  :  显示或设置网络接口信息
* synopsis  :  ifconfig interface 选项 | 地址

---

**hostnamectl**

* description  :  显示或设置系统主机名称
* synopsis  :  hostnamectl [option]
* [option]  :
  * status  :  查看主机名称及主机信息
  * set-hostname  :  设置主机名称

---

**route**

* description  :  显示或设置静态IP路由表
* synopsis  :  route [option] [None|目标网络|gw|网关地址]
* [option]  :
  * -n  :  使用数字地址替代主机名称
  * add  :  添加路由表记录
  * del  :  删除路由表记录

---

**文件修改网络参数**

* 网络接口参数 

CentOS 7 系统中网卡配置文件为/etc/sysconfig/network-scripts/ifcfg-<iface>，iface为网卡接口名称

选项 | 功能描述 | 值
:-: | :-: | :-:
DEVICE | 设备名称 | eno16777736
TYPE | 设备类型 | Ethernet
BOOTPROTO | 启动协议 | none\|dhcp\|static
HWADDR | 硬件地址 | 52:54:00:B9:F2:8E
ONBOOT | 开机是否启动该网卡，对虚拟接口无效 | yes\|no
IPADDR | IP地址 | 
PREFIX | 网络位掩码个数，对虚拟接口无效 | 
NETMASK | 子网掩码 | 
GATEWAY | 默认网关 | 
DNS{1,2} | DNS服务器，多个服务器使用数字标记，如DNS1,DNS2等 | 

---

**主机名参数**

* 主机名配置文件为/etc/hostname，通过修改该文件实现主机名称的设置

---

**路由参数**

* 通过对网络接口设置网络参数后，可以指定网卡的默认网关，但无法设定通往特定网段的静态路由信息。此时，需要创建指定网卡的路由配置文件(默认不存在),配置文件名称为route-<iface-name>(/etc/sysconfig/network-scripts/文件夹下)，该文件每行对应一条静态路由记录

---

**ping**

* description  :  
* synopsis  :  ping [ipadress]
* [ipadress]  :
  * 127.0.0.1  :  ping本地回环，测试本地网络协议是否正常
  * 192.168.0.31  :  ping本地IP，测试本地网络接口是否正常
  * 192.168.0.254  :  ping网关，测试网关是否正常工作
  * 202,106,0,20  :  ping外部网络，测试服务商网络是否正常
  * google.com  :  ping外部网络域名，测试DNS及服务商网络是否正常

---

**traceroute**

* descroption  :  跟踪数据包的路由过程
* synopsis  :  traceroute [option] [IP/域名]
* [option]  :
  * None  :  默认使用UDP封装跟踪包
  * -I  :  使用ICMP封装

---

**nslookup**

* description  :  本地DNS解析域名情况(仅域名和IP地址之间的对应关系)
* synopsis  :  nslookup 域名

---

**dig**

* description  :  可以查看更多DNS记录的信息(包括MX(邮件记录),NS(域名服务记录)等)
* synopsis  :  dig 域名 [None|MX|NS]

---

**netstat**

* description  :  查看连接系统的所有人
* synopsis  :  netstat [-an|-nutlp]
  * -an  :  查看网络连接状态
  * -nutlp  :  查看当前系统开启端口信息

---


**lsmod**

* description  :  查看当前Linux内核模块状态,不使用任何参数会显示当前已经加载的所有内核模块
* synopsis  :  lsmod 
* tip  :  输出的三列信息分别为模块名词,占用内存大小,是否在被使用(如果第三列为0,则该模块可以随时卸载，非0则无法执行modprobe删除模块)

---

**modprobe**

* description  :  动态加载与卸载内核模块
* synopsis  : modprobe [None|-r] 内核模块
  * None  :  默认为加载内核模块
  * -r  :  卸载内核模块

---

**modinfo**

* description  :  查看内核模块信息
* synopsis  : modinfo 内核模块

tip  :  通过modprobe加载的内核模块仅在当前有效，计算机重启以后不会再次加载该模块

如果需要将modprobe命令写入/etc/rc.d/rc.local文件中，或通过修改/etc/modprobe.d/目录下的相关配置文件实现

当内核模块不再需要时，可以通过修改/etc/rc.d/rc.local文件中对应的modprobe命令删除，但是需要重启计算机才生效，可以通过modprobe -r命令来立即删除内核模块

**修改内核参数**

* 临时

Linux内核参数随着系统的启动会被写入内存中，可以直接修改/proc/目录下的大量文件来调整内核参数，并且该调整立即生效

开启内核路由转发功能(通过0或1设置开关)

禁止所有的icmp回包(禁止其他主机ping本机)

调整所有的进程可以打开的文件总数量(当大量的用户访问网站资源时，可能会因为该数字过小而导致错误)


* 永久

可以通过修改/etc/sysctl.conf文件(文件格式为“选项=值”)设置参数并永久生效

通过修改sysctl.conf文件修改的内核参数不会立即生效，需要使用sysctl -p 命令使这些设置立刻生效

---

**date**

* description  :  显示及设置系统的时间或日期
* synopsis  :  date [option] [+指定的格式]
* [option]  :
  * None  :
  * 

---

**reboot**

* description  :  重启系统
* synopsis  :  reboot
* tip  :  默认只能root管理员才能重启

---

**poweroff**

* description  :  关闭系统
* synopsis  :  poweroff
* tip  :  默认只能root管理员才能重启

---

**wget**

* description  :  在终端下载网络文件
* synopsis  :  wget [option] [下载链接]
* [option]  :
  * -b  :  后台下在模式
  * -p  :  下载到指定目录
  * -t  :  最大尝试次数
  * -c  :  断点续传
  * -p  :  下载页面的所有资源，包括图片视频等
  * -r  :  递归下载

---

**clear**

* description  :  清屏

---

**history**

* description  :  命令历史

---

**which**

* description  :  返回命令的实际存储位置
* synopsis  :  which [命令]

---

**man**

* description  :  查看命令的使用手册
* synopsis  :  man [命令]

---

**info**

* description  :  查看命令的info信息，它通过链接显示不同的信息块
* synopsis  :  info [命令]

---

**help**

* description  :  查看命令的简要介绍信息
* synopsis  :  [命令] --help

---
