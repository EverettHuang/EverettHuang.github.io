---
title: python语句
date: 2019-10-10 21:31:11
tags: python
categories: python
description: 本文将python语句分为简单语句和复合语句介绍
cover: /Depository/Img/Post/0025.png
top_img: /Depository/Img/Post/0024.jpeg
---


**<center>python语句</center>**

本文将python语句分为简单语句和复合语句介绍

---

### 简单语句

简单语句只包含一个逻辑行

---

#### 表达式语句

表达式本身可作为语句

```python
"This module conntains SPAM-related functions"
```

---

#### 断言语句

assert：断言语句检查条件是否满足，如果不满足，就引发AssertionError异常(并可提供错误信息)

```python
assert age >=12, 'Children under the age of 12 are not allowed'
```

---

#### 赋值语句

赋值语句将变量和值关联起来
1. 简单赋值

```python
x = 42
```

2. 序列解包

```python
name, age = 'Gumby', 60
```

```python
>>>  x, y = 1, 2
>>>  x, y = y, x
>>>  print(x, y)
2 1
```

* 包的序列包含的元素个数必须与你在等号左边列出的目标个数相同，
* 但可使用星号运算符`*`收集多余的值，带星号`*`的变量可放在任何位置

```python
>>>  a, b, *rest = [1, 2, 3, 4]
>>>  rest
[3, 4]
```

* 赋值语句的右边可以是任何类型的序列，但带星号的变量最终包含的总是一个列表

```python
>>>  a, *b, c = "abc"
>>>  a, b, c
('a', ['b'], 'c')
```

3. 链式赋值

```python
x = y = z = 10
```

* 但是上式等于`z = 10, y = z, x = y`，不等于`z = 10, y = 10, x = 10`

4. 增强赋值语句

可以用`x += 1`替换`x = x + 1`，适用于所有标准运算符

```python
x *= 2  #将x的值乘2
x += 5  #将x的值加5
```

* 增强赋值可用于其他数据类型(只要使用的双目运算符可用于这些数据类型)

```python
>>>  fnord = 'foo'
>>>  fnord += 'bar'
>>>  fnord *= 2
>>>  fnord
'foobarfoobar'
```

---

#### pass语句

pass语句可以用来当占位符，表示什么都不做

---

#### del语句

del语句只会删除名称，不会删除对应的值。在python没有办法删除值，在没有任何引用时，值会自动删除

---

#### return语句

return语句结束函数的执行并返回一个值。如果没有指定值，返回None

---

#### yield语句

yield语句暂停执行生成器，并返回一个值。生成器是一种迭代器，可用于for循环中

#### raise语句

raise语句引发异常。
* 调用它时可不提供任何参数(在except子句中用于重新引发当前捕获的异常)
* 提供Exception的一个子类和一个可选参数(在这种情况下，将创建一个实例)
* 提供Exception子类的一个实例

```python
raise   #只可用于except子句中
raise IndexError
raise IndexError, 'index out of bounds'
raise IndexError('index out of bounds')
```

---

#### break语句

break语句结束它所属的循环语句(for或while语句)，并接着执行该循环语句后面的语句

---

#### continue语句

continue语句类似于break语句，但结束所属循环的当前迭代而不是整个循环，即跳到下一次迭代开头继续执行

---

#### import语句

* import somemodule
* from somemodule import somefunction
* from somemodule import somefunction, anotherfunction, yetanotherfunction
* from somemodule import *

**指定导入模块别名**

可在语句末尾添加as子句指定别名

---

#### global语句

global语句用于将变量标记为全局的。在函数中，可使用它给全局变量重新赋值。

*使用global语句通常被是为糟糕的编程风格，因此应尽可能避免*

```python
count = 1
def inc():
    global count
    count +=1
```

---

#### nonlocal语句

类似于global语句，但是引用内部函数(闭包)的外部作用域。

*如果你在一个函数内定义了另一个函数并返回它，这个函数就可以引用并修改外部函数中的变量，条件是使用nonlocal来标记它*

```python
def makeinc():
    count = 1
    def inc():
        nonlocal count
        count +=1
    return inc
```

---

### 复合语句

#### 复合语句基础

**复合语句包含一组其他的语句(代码块)**
* 代码块通过缩进来创建的，标准做法是缩进四个空格
* 在python中，使用冒号`:`指出接下来是一个代码块，并将该代码块中的每行代码都缩进相同的程度

**布尔值**
* 布尔值True和False属于类型bool，而bool与list,str和tuple一样，可用来转换其他值

* 在用作布尔表达式时,`'False'  'None'  '0'  '()'  '[]'  '{}'  '""'`都被视作假(其中`""()[]{}`为空字符串空元组空列表空字典)

**比较运算符**

在条件表达式中，最基本的运算符是比较运算符

== | < | > | >= | <=
:-: | :-: | :-: | :-: | :-:
!= | is | is not | in | not in

* 与赋值一样，python也支持链式比较，如：`0 < age < 100`
* 相等运算符`==`，确定两个对象是否相等
* 相同运算符`is`，确定两个对象是否相同，(相等未必是同一个对象，不一定相同)
* 成员资格运算符`in`，也可用于条件表达式中
* 字符串和序列比较，字母按Unicode顺序值排列，用函数`ord`获取字符的顺序值

**布尔运算符**

* and：两个值都为真时返回真，否则返回假
* or：有一个值为真时返回真，否则返回假
* not：对高优先级的运算结果取反，值为布尔

**推导**

* 列表推导是一种从其他列表创建列表的方式，类似于数学中的集合推导，列表推导的工作原理类似于for循环

```python
>>>  [x * x for x in range(10)]
[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
```

```python
>>>  [x * x for x in range(10) if x % 3 == 0]
[0, 9, 36, 81]
```

```python
>>>  [(x, y) for x in range(3) for y in range(3)]
[(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2)]
```

* 字典推导：可以用花括号来执行字典推导

*在列表推导中，for前面只有一个表达式，而在字典推导中，for前面有两个用冒号分隔的表达式，这两个表达式分别对应键和值*

```python
>>>  squares = {i:"{} squared is {}".format(i, i**2) for i in range(10)}
>>>  squares[8]
'8 squares is 64'
```

* 不能使用圆括号来实现元组推导，而是创建生成器

---

#### if语句

##### if语句：有条件地执行代码

* 如果条件(if和冒号之间的表达式)为真，就执行后面的代码块；如果条件为假就不执行

```python
name = input('What is your name?')
if name.endswith('Gumby'):
    print('Hello, Mr. Gumby')
```

##### else子句和elif子句

* else子句在条件不为真时执行
* elif子句为else if的缩写
* 代码块嵌套i：可将if语句放在其他if语句中

```python
name = input('What is your name?')
if name.endswith('Gumby'):
    if name.startswith('Mr.'):
        print('Hello, Mr. Gumby')
    elif name.startswith('Mrs.'):
        print('Hello, Mrs. Gumby')
    else:
        print('Hello, Gumby')
else:
    print('Hello, stranger')
```

##### 断言(assert)

*可在if语句中嵌套使用断言`assert`语句*

断言语句检查条件是否满足，如果不满足，就引发AssertionError异常(并可提供错误信息)

```python
assert age >=12, 'Children under the age of 12 are not allowed'
```

---

#### while语句和for语句

##### while语句

```python
x = 1
while x <= 100:
    print(x)
    x += 1
```

*每次while循环结束后会检查条件语句，决定是否再次进入循环*

##### for语句

###### for语句为序列(或其他可迭代对象)中的每一个元素执行代码块

```python
numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
for number in numbers:
    print(number)
```

* 能使用for循环的就不要使用while循环

###### range函数

鉴于迭代(遍历)特定范围的数是一个常见任务，python有一个创建范围的内置函数`range`,范围类似于切片，包含起始位置不包含结束位置

```python
>>>  list(range(0, 10))
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
```

*下列程序打印数1～100：*

```python
for number in range(1, 101)
    print(number)
```

###### 可使用for语句迭代字典

```python
d = {'x': 1, 'y': 2, 'z': 3}
for key in d:
    print(key, 'corresponds to', d[key])
```

可在for循环中使用序列解包

```python
for key, value in d.items():
    print(key, 'corresponds to', value)
```

* d.items以元组的方式返回键-值对
* 可以用keys字典方法获取所有的键
* 可以用values字典方法获取所有的值
* 迭代字典时，顺序是不一定的(因为字典没有顺序)。如果顺序很重要，可将键或值存储在一个列表中，并对列表排序，再进行迭代

###### 一些迭代工具

1. 并行迭代
内置函数zip，将两个序列“缝合”起来，并返回一个由元组组成的序列。返回值是一个适合迭代的对象，要查看其内容可使用list将其转换为列表

```python
>>>  names = ['anna', 'beth', 'george', 'damon']
>>>  ages = [12, 45, 32, 102]
>>>  list(zip(names, ahes))
[('anna', 12), ('beth', 45), ('george', 32), ('damon', 102)]
```

*函数zip可缝合任意数量的序列。当序列长度不一致时，zip函数会缝合到最短的序列用完后停止*

2. 迭代时获取索引

内置函数enumerate，这个函数让你能够迭代索引-值对，其中索引是自动提供的

```python
for index, string in enumerate(string):
    if 'xxx' in string:
        strings[index] = '[censored]'
```

3. 反向迭代和排序后迭代

内置函数reversed和sorted，可用于任何序列或可迭代的对象，且不就地修改对象，而是返回反转和排序后的版本

*sorted函数返回一个列表*
*reversed返回一个不可索引和切片的对象，也不能对它调用列表方法，可使用list对它进行转换后使用上述操作*

##### break和continue

1. break语句结束它所属的循环语句(for或while语句)，并接着执行该循环语句后面的语句
2. continue语句类似于break语句，但结束所属循环的当前迭代而不是整个循环，即跳到下一次迭代开头继续执行
3. while True/break成例

```python
while True:
    word = input('Please enter a word: ')
    if not word: 
        break
    print('The word was', word)
```

* 在for循环和while循环中都可使用continue,break和eelse子句 

##### else子句

*else子句仅在没有调用break语句时才执行*

```python
from math import sqrt
for n in range(99, 81, -1)
    root = sqrt(n)
    if root == int(root):
        print(n)
        break
else:
    print("Didn't find it!")
```

* 在for循环和while循环中都可使用continue,break和eelse子句 

---

#### try语句

#### with语句

#### 函数定义

#### 类定义

### 备注

#### print函数

*print在python2中为语句，但在python3中为函数*

print可用于打印一个表达式，这个表达式要么是字符串，要么将自动转换成字符串

* 可同时打印多个表达式，用逗号`,`分隔

```python
>>>  print('Age:', 42)
Age: 42
```

* print函数将自动在字符串参数中间加入空格(不会在两个变量参数中间添加任何符号)

* print函数参数可用`变量参数+字符串参数`的方式去掉自动在字符串参数前的空格

* 可用`sep=""`指定分隔符

```python
>>>  print("I", "wish", "to", "register", "a", "complaint", sep="_")
I_wish_to_register_a_complaint
```

* 可用`end=""`指定结束字符，用以替换掉默认的换行符

---

#### input函数

#### exec函数和eval函数

##### exec函数

exec函数将字符串作为代码执行

*使用exec函数时，只提供一个参数可行但是可能会污染命名空间，所以最好提供两个参数，第二个参数(字典)为命名空间，这样就不会污染命名空间*

```python
>>>  from math import sqrt
>>>  scope = {}
>>>  exec('sqrt = 1', scope)
>>>  sqrt(4)
2.0
>>>  scope['sqrt']
1
```

##### eval函数

eval函数计算用字符串表示的python表达式的值，并返回结果(exec什么都不返回)

```python
>>>  eval(input("Enter aan arithmetic expression: "))
Enter aan arithmetic expression: 6 + 18 * 2
42
```

*与exec一样，也可向eval提供一个命名空间*

---