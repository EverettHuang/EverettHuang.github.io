---
title: Linux文件编辑
date: 2019-10-12 12:34:46
tags: Linux
categories: Linux
description: 
cover: /Depository/Img/Post/
top_img: /Depository/Img/Post/
---

**<center>Linux文件编辑</center>**

---

grep擅长查找功能

sed擅长取行和替换

awk擅长取列


#### Linux文件

* \- :  普通文件
* d  :  目录文件
* l  :  链接文件
* b  :  块设备文件
* c  :  字符设备文件
* p  :  管道文件

#### 正则表达式

Linux一切都是文件，对文件操作中的正则表达式就尤为重要

只有vi,grep，egrep,sed，awk能读懂正则表达式，其中egrep,awk能读懂拓展正则表达式

##### 基本正则表达式：

字符 | 含义
:-: | :-:
c | 匹配字母c
. | 匹配任意单个字符
\* | 匹配前一个字符出现零次或多次
.* | 匹配任意多个任意字符
[] | 匹配集合中的任意单个字符，括号中为一个集合
\[x-y] | 匹配连续的字符串范围
^ | 匹配字串的开头
$ | 匹配字串的结尾
\[^] | 匹配否定，对括号中的集合取反
\ | 匹配转义后的字串
\\{n,m\\} | 匹配前一个字符重复n到m次
\\{n,\\} | 匹配前一个字符重复至少n次
\\{n\\} | 匹配前一个字符重复n次
\\(\\) | 将\\(与\\)之间的内容存储在“保留空间”，最大存储9个
\\n | 通过\\1至\\9调用保留空间中的内容

##### 拓展正则表达式：

字符 | 含义
:-: | :-:
{n,m} | 等同于基本正则表达式的\\{n,m\\}
\+ | 匹配前一个字符出现一次或多次
? | 匹配前一个字符出现零次或一次
\| | 匹配逻辑或者，即匹配|前或后的字符
() | 匹配正则集合

##### POSIX规范

字符集 | 含义 | 字符集 | 含义
:-: | :-: | :-: | :-:
[:alpha:] | 字母字符 | [:graph:] | 非空格字符
[:alnum:] | 字母与数字字符 | [:print:] | 任何可以显示的字符
[:cntrl:] | 控制字符 | [:space:] | 任何产生空白的字符
[:digit:] | 数字字符 | [:blank:] | 空格与Tab键字符
[:xdigit:] | 十六进制数字字符 | [:lower:] | 小写字符
[:punct:] | 标点符号 | [:upper:] | 大写字符

##### GUN规范

\\b  :  边界字符，匹配单词的开始或结尾，相当于[:alnum:]

\\B  :  \\b的反义词，相当于[^[:alnum:]]

#### find


#### vim

vim操作


#### grep

grep擅长查找和替换

* description  :  查找关键词并打印匹配的行
* synopsis  :  grep [option] 匹配模式 [file]
* [option]  :
  * -i  :  忽大小写
  * -v  :  取反匹配
  * -w  :  匹配单词
  * --color  :  显示颜色


#### sed

sed将文件读取到缓冲区，不会直接修改源文件

sed擅长取行和替换

description  :  
* synopsis  :  sed [option] {脚本指令} [输入文件]
* [option]  :
  *  --version  :  显示sed版本
  *  --help  :  显示帮助文档
  *  -n,--quiet,--silent  :  静默输出，默认情况下，sed程序在所有的脚本指令执行完毕后，将自动打印模式空间中的内存，该选项可以屏蔽自动打印
  *  -e script  :  允许多个脚本指令被执行
  *  -f script-file  :  从文件中读取脚本指令，对编写自动脚本程序很实用
  *  -i,--in-place  :  慎用，该选项将直接修改源文件
  *  -l N  :  该选项指定l指令可以输出的行长度，l指令为输出非打印字符
  *  --posix  :  禁用GNU sed拓展功能
  *  -r  :  在脚本指令中使用拓展正则表达式
  *  -s,--separate  :  默认情况下，sed将把输入的多个文件名作为一个长的连续的输入流。而GNU sed则允许把它们当作单独的文件文件
  *  -u,--unbuffered  :  最低限度的缓存输入与输出

##### 基本格式范例

##### 操作地址匹配范例

##### sed指令与脚本

* Sed常用指令汇总
* 部分指令详解

替换指令 删除指令  转换指令

* Sed脚本指令范例
范例

##### Sed高级应用

* 多行操作Next

* 多行操作Print

* 多行删除操作Delete(D)

* Hold(h,H),Get(g,G)


#### Awk

Awk是一种编程语言，用于在Linux/UNIX下对文本和数据进行扫描与处理，数据可以来自标准输入，文件，管道

Awk工作流程：逐行扫描文件，从第一行到最后一行，寻找匹配特定模式的行，并在这些行上进行用户想要的操作。


##### Awk高级应用

* IF条件判断

* while循环

* for循环

* Break与Continue

* 函数

  * rand()函数
  * gsub(x,y,z)函数
  * sub(x,y,z)函数
  * lenght(z)函数
  * getline函数

